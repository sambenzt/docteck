<!DOCTYPE html>
<html lang="es">

<head></head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tekmiros</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="./css/styles.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/base16/atelier-cave-light.min.css" integrity="sha512-mb7hVnqouaHmHLJYLhdY+kUld4843IHJuRbVbhLXD41EJreUz0AeYU9t0XhwDFtnRVRvnLkbT/Xbjl1sajvpFQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/atom-one-dark-reasonable.min.css" integrity="sha512-RwXJS3k4Z0IK6TGoL3pgQlA9g2THFhKL7z9TYWdAI8u6xK0AUuMWieJuWgTRayywC9A94ifUj1RzjDa1NIlUIg==" crossorigin="anonymous" referrerpolicy="no-referrer" />     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/base16/material-palenight.min.css" integrity="sha512-Yn3mMZThz+r+6n46Zms4AJUEE6NyERa5Pf+wdlfrVCQJiGJBGE3hSj090SCPtMRO874z4MgqsbtCd20CEDBPBw==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->
     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/atom-one-light.min.css" integrity="sha512-o5v54Kh5PH0dgnf9ei0L+vMRsbm5fvIvnR/XkrZZjN4mqdaeH7PW66tumBoQVIaKNVrLCZiBEfHzRY4JJSMK/Q==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
    <style>
        .editor {
          border: 1px solid #ccc;
          padding: 10px;
          min-height: 200px;
          margin-bottom: 20px;
        }
      </style>
</head>
<body>
  <div contenteditable="true" class="editor">
    Escribe aquí y agrega bloques de código...
  </div>

  <button onclick="insertCodeBlock()">Insertar bloque de código</button>

  <script>
      const editor = document.querySelector('.editor');
    function insertCodeBlock() {
      
      // HTML del bloque de código a insertar
      const codeHTML = `
      <pre><code class="language-javascript">
      function helloWorld() {
        console.log('Hello, world!');
      }
      </code></pre>`;

      // Insertar el bloque de código en el editor
      editor.innerHTML += codeHTML;

      // Aplicar highlight.js al nuevo bloque de código
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightElement(block);
      });


    // Escuchar cambios en el contenido del editor
   
    }

    function repaintCode() {
      // Volver a resaltar el código dentro del editor
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightElement(block);
      });
    }

    // Detectar cambios en el contenido editable
    editor.addEventListener('blur', function() {
        const elements = document.querySelectorAll('[data-highlighted="yes"]');
        elements.forEach(element => {
            element.removeAttribute('data-highlighted');
        });
        setTimeout(repaintCode, 100);
    });


  </script>

<script>
    window.onload = () => {
        hljs.highlightAll();
    }


</script>
</body>
</html>
